{% extends 'base.html'%}
{% load static %}

{% block content %}

{% include 'partials/_menu.html' %}

<main role="main">
    <section class="jumbotron text-center">
        <div class="container">
            {% if not request.user.is_authenticated %}

            <h1>ESPALHE ESPERANÇA!</h1>
            <p class="lead text-muted">Aqui você pode compartilha a sua melhor foto com o seu melhor texto, Vamos esparramar beleza e sabedoria neste mundo! ;)<p>
            <p class="lead text-muted"></p>Não perca tempo, crie a sua conta!</p>
            <a href="{% url 'cadastro' %}" class="btn btn-primary my-2">Cadastre aqui</a>

            {% else %}

            <h1>Espalhe Esperança {{ user.username }}!</h1>
            <p class="lead text-muted">
                Compartilhe uma linda foto ou <br> 
                a imagem mais fantástica que você já viu.<br>
                E escreva um lindo texto trazendo esperança para todos!
            </p>
            <a href="{% url 'add-post' %}" class="btn btn-primary my-2">Add Postagem</a>
        </div>
            {% endif %}
    </section>  


    <div class="album py-5 bg-light">
        <div class="container">
            <div class="row">
                {% for postagem in object_list %}

                <div class="col-md-4">
                    <div class="card mb-4 pt-1 shadow-sm">
                        <a href="{% url 'postagem' postagem.id %}"><h2 class="titulo_img">{{ postagem.titulo }}</h2></a>
                        <div class="div_img_list">
                            <a href="{% url 'postagem' postagem.id %}"><img width="100%" src="/media/{{ postagem.foto_postagem }}" alt=""></a>
                        </div>
                        <div class="card-body">
                            <p class="card-text paragrafo_list">{{ postagem.descricao }}</p>
                            <small class="text-muted">{{ postagem.usuario }}</small>
                        </div>
                    </div>
                </div>

                {% empty %}

            <p>Nenhum produto registrado</p>

                {% endfor %}
            </div>
        </div>
    </div>
</main>

   <!-- ##### Pagination ##### -->
<section class="top-catagory-area section-padding-20-0">
    <div class="container">
        {% for postagem in object_list %}
        {% if postagem.has_other_pages %}
        <ul class="pagination">
            {% if postagem.has_previous %}
            <li class="page-item">
                <a href="?page={{ receitas.previous_page_number }}" class="page-link">&laquo;</a>
            </li>
            {% else %}
            <li class="page-item disabled">
                <a class="page-link">&laquo;</a>
            </li>
            {% endif %}                
            {% for postagem in postagem.paginator.page_range %}
            {% if postagem.number == pagina %}
            <li class="page-item active">
                <a class="page-link">{{ pagina }}</a>
            </li>
            {% else %}
            <li class="page-item">
                <a href="?page={{ pagina }}" class="page-link">{{ pagina }}</a>
            </li>
            {% endif %}
            {% endfor %}
            {% if postagem.has_next %}
            <li class="page-item">
                <a href="?page={{ receitas.next_page_number }}" class="page-link">&raquo;</a>
            </li>
            {% else %}
            <li class="page-item disabled">
                <a class="page-link">&raquo;</a>
            </li>
            {% endif %}
        </ul>
        {% endif %}
        {% endfor %}
    </div>
</section>
<!-- ##### Pagination End ##### -->

{% include 'partials/_footer.html' %}


{% endblock %}




 